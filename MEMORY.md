# MEMORY.md - Long-Term Memory

## üìù MEMORY PRACTICE

**‡∏à‡∏î‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≤‡∏á ‡πÑ‡∏°‡πà‡∏£‡∏≠ context ‡πÄ‡∏¢‡∏≠‡∏∞**
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‚Üí ‡∏à‡∏î‡∏•‡∏á `memory/YYYY-MM-DD.md` ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
- ‡πÑ‡∏°‡πà‡∏£‡∏≠ session ‡∏à‡∏ö ‡∏´‡∏£‡∏∑‡∏≠ context 70-80%
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏≤‡∏à crash ‡∏ï‡∏≠‡∏ô 20% ‡∏Å‡πá‡πÑ‡∏î‡πâ ‚Äî ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏≤‡∏à‡∏´‡∏≤‡∏¢‡∏´‡∏°‡∏î

## ‚ò†Ô∏è SKILL TO AVOID: elite-longterm-memory

**Date:** 2026-02-06
**Status:** DO NOT USE

### What Happened:
- Installed skill ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ LanceDB + Gemini batch embeddings
- Gemini batch jobs ‡∏ï‡∏¥‡∏î‡∏Ñ‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà status "UNKNOWN" ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏ô loop
- Context overflow errors ‡∏ã‡πâ‡∏≥‡πÜ
- Connection refused (LanceDB service ‡∏•‡πà‡∏°)
- ‡∏£‡∏∞‡∏ö‡∏ö crash ‡∏ï‡πâ‡∏≠‡∏á reinstall OpenClaw ‡πÉ‡∏´‡∏°‡πà

### Lesson Learned:
- ‚ùå ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏ä‡πâ elite-longterm-memory
- ‚ùå ‡∏£‡∏∞‡∏ß‡∏±‡∏á skills ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ external DB (LanceDB, etc.)
- ‚úÖ ‡πÉ‡∏ä‡πâ memory_search ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡∏û‡∏≠

## üö® CRITICAL FACEBOOK RESTRICTIONS

**Date:** 2026-02-01
**Status:** ABSOLUTE RULES - NEVER VIOLATE

### STRICT PROHIBITIONS:
1. **NO POSTING** - ‡∏´‡πâ‡∏≤‡∏° post ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°/‡∏£‡∏π‡∏õ/‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
2. **NO MESSAGING** - ‡∏´‡πâ‡∏≤‡∏°‡∏™‡πà‡∏á message ‡∏´‡∏≤‡πÉ‡∏Ñ‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô
3. **NO INTERACTIONS** - ‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏î like, comment, share, react
4. **READ-ONLY MODE** - ‡∏≠‡πà‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

### ALLOWED ACTIONS:
- ‚úÖ ‡∏≠‡πà‡∏≤‡∏ô Saved posts
- ‚úÖ Browse timeline ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏Ç‡πà‡∏≤‡∏ß/‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à
- ‚úÖ ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• text ‡∏à‡∏≤‡∏Å posts
- ‚úÖ Summarize ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤

### CREDENTIALS (Sensitive - do not share):
- Email: dev.d.bos@gmail.com
- Purpose: Facebook login for content reading only
- 2FA: User will approve manually

### Login Process:
1. Attempt login with provided credentials
2. Wait for user to approve 2FA on their device
3. User will message "‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß" to proceed
4. Save cookies/session for future use

## üîÑ AUTOMATIC ERROR RECOVERY PROTOCOL

**Date:** 2026-02-02
**Applies to:** Facebook scraping sessions

### Kimi Rate Limit Error Handling:
**Error:** `Unknown model: kimi-coding/kim`

**Cause:** Kimi API rate limit ‚Üí Provider in cooldown

**Automatic Recovery:**
1. ‚úÖ Wait 10-30 seconds (do not ask user)
2. ‚úÖ Retry operation automatically
3. ‚úÖ If retry succeeds ‚Üí Continue silently
4. ‚úÖ If fails 3 times ‚Üí Report "Rate limit, cooling down..." briefly
5. ‚úÖ Resume work when ready

**DO NOT:**
- ‚ùå Ask user "what should I do?"
- ‚ùå Stop and wait for user input
- ‚ùå Interrupt workflow unnecessarily

**DO:**
- ‚úÖ Work in batches of 10 posts
- ‚úÖ Self-recover from errors
- ‚úÖ Report only critical issues
- ‚úÖ Keep working until context limit

### Workflow:
- Work in **batches of 10 posts**
- Commit git after each batch
- Update index.md after each batch
- Continue until context ~80% or rate limit persists

## üíæ DATA STORAGE OPTIONS (To Discuss)

Current ideas for storing summarized content:
1. Google Sheets (shared link with edit permissions)
2. Obsidian (local database)
3. Notion (API integration)

Need to evaluate best approach based on:
- Ease of access
- Formatting capabilities
- Automation potential

## üîß CONFIG BACKUP SYSTEM

**Date:** 2026-02-07
**Status:** ACTIVE - USE BEFORE RISKY CHANGES

### Backup Script Location:
```
~/.openclaw/scripts/backup-config.sh
```

### What Gets Backed Up:
| ‡πÑ‡∏ü‡∏•‡πå | ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á |
|-----|-----------|
| `openclaw.json` | üî¥ Config ‡∏´‡∏•‡∏±‡∏Å |
| `auth-profiles.json` | üî¥ API keys, OAuth |
| `cron/jobs.json` | üü° Scheduled jobs |

### Backup Storage:
```
~/.openclaw/backups/
```

### Usage:
```bash
~/.openclaw/scripts/backup-config.sh [reason]
```

### MANDATORY: Run Before:
- ‚ùó Installing new skills
- ‚ùó Changing gateway config
- ‚ùó Adding new auth providers
- ‚ùó Any risky operation

### Auto-cleanup:
- Keeps last 50 backups
- ~150KB total storage

---

## üåê WEB BROWSING STANDARD (Verified 2026-02-09)

**Date:** 2026-02-09
**Status:** ACTIVE

### Rule:
- **ALWAYS use `agent-browser` (CLI tool)** for web interaction.
- **NEVER** use the built-in `browser` tool (it is unreliable/broken).
- **NEVER** use `web_fetch` for dynamic sites (React/SPA) like Facebook, Moltbook, Twitter.

### CRITICAL: Proper Session Cleanup (Updated 2026-02-09)

**‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á SAVE STATE ‡∏Å‡πà‡∏≠‡∏ô CLOSE ‡πÄ‡∏™‡∏°‡∏≠ ‚Äî ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô‡πÄ‡∏Å‡∏¥‡∏î ZOMBIE PROCESSES**

**Correct Sequence:**
```bash
# 1. ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à ‚Üí Save state ‡∏Å‡πà‡∏≠‡∏ô
agent-browser state save facebook-session.json

# 2. ‡∏Ñ‡πà‡∏≠‡∏¢‡∏õ‡∏¥‡∏î browser
agent-browser close

# 3. (Optional) ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ state ‡∏≠‡∏µ‡∏Å ‚Üí ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå
rm facebook-session.json
```

**‚ùå Wrong (‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î zombie chrome ‡∏Å‡∏¥‡∏ô RAM):**
```bash
# ‡πÄ‡∏õ‡∏¥‡∏î browser ‚Üí ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‚Üí ‡∏´‡∏¢‡∏∏‡∏î/‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏±‡∏ô ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà close
# ‡∏ú‡∏•: zombie processes ‡∏Ñ‡πâ‡∏≤‡∏á‡∏Å‡∏¥‡∏ô RAM ~500MB+
```

**Cleanup Zombie (‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß):**
```bash
killall -9 chrome-headless-shell
```

### Usage:
- **Open:** `agent-browser open <url>`
- **View:** `agent-browser snapshot -i` (captures interactive elements + preview text)
- **Interact:** `agent-browser click @e1`, `agent-browser fill @e2 "text"`
- **Session:** `agent-browser state save/load <file>.json` (Critical for login persistence)

## üê¶ TWITTER / X INTELLIGENCE (Verified 2026-02-08)

**Tool:** `bird` (CLI) - `@steipete/bird`
**Config:** `~/.bashrc` (Env Vars: `AUTH_TOKEN`, `CT0`)

### üß† Logic: The "Bookmark Unpacker"
1.  **Detection:** If a Bookmarked Tweet appears **empty** or has **only a link** (e.g., `t.co/...`):
    - **DO NOT IGNORE IT.** It is likely a **Long Article** or **Valuable Thread**.
    - **Context Clues:** High-value author (e.g., `Nozz`, `Dan Koe`), related to Automation/AI.
2.  **Action:** IMMEDIATELY execute `bird read <Tweet_ID>`.
3.  **Result:** This extracts the **Full Text** (even if it's a long-form article) which is often "Gold".

### üí° PRO TIPS for Moltbook (Infinite Scroll Fix):
1.  **Don't Rely on Scroll:** Infinite scroll often freezes or loops on cached content.
2.  **Force Refresh:** If stuck, `open` the URL again to clear DOM cache.
3.  **Switch Feeds:** Click "New", "Top", or specific Submolts (e.g., `m/general`) to force new content loading.
4.  **Read from List:** `snapshot -i` captures preview text in link titles (often enough for summary). Clicking into detail view may hide text if not interactive.

## üö® FILE SAFETY RULE (CRITICAL)

**Date:** 2026-02-07
**Status:** MANDATORY

### The Mistake:
- Overwrote `MEMORY.md` with only partial content (lost previous context).
- Reason: Used `write` blindly without reading the full file first.

### The Rule:
1.  **NEVER use `write` on critical files** (MEMORY.md, AGENTS.md) unless you have read the ENTIRE file content in the same turn.
2.  **PREFER `edit` (String Replace)** for small updates/append.
3.  **ALWAYS Check:** If overwriting, ensure the `content` payload includes EVERYTHING (old + new).

---

## üåè TIMEZONE CONFIGURATION

**Date:** 2026-02-12
**Status:** ACTIVE

### Bangkok Timezone (UTC+7) ‚Äî Default Output

**Rule:** ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡πá‡∏ô **Asia/Bangkok (UTC+7)** ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö user

**‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:**
- ‡πÅ‡∏õ‡∏•‡∏á timestamp UTC ‚Üí Bangkok time ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
- ‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠ timezone ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô (‡πÄ‡∏ä‡πà‡∏ô "07:48 ‡∏ô. (‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û)")
- ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
- UTC: `2026-02-12 00:48:00 UTC`
- Bangkok: `2026-02-12 07:48 ‡∏ô. (‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û UTC+7)`

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏¢‡∏±‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô UTC ‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô ‡πÅ‡∏ï‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ user ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢‡πÄ‡∏™‡∏°‡∏≠
